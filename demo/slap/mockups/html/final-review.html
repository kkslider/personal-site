<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <meta charset="utf-8" />
  <meta name="author" content="">
  <meta name="copyright" content="">
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="../css/960.css" type="text/css">
  <link rel="stylesheet" href="../css/formalize.css" type="text/css">
  <link rel="stylesheet" href="../css/global.css" type="text/css">
  <link rel="stylesheet" href="../css/build.css" type="text/css">
  
  <!--[if IE]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <!--[if lte IE 7]>
  <script src="../js/IE8.js" type="text/javascript"></script><![endif]-->
  <!--[if lt IE 7]>
  <link rel="stylesheet" type="text/css" media="all" href="../css/ie.css"/><![endif]-->
  
  <!-- <script src="../js/jquery.js" type="text/javascript"></script> -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
  <script src="../js/jquery.formalize.min.js" type="text/javascript"></script>
  <script src="../js/IE8.js" type="text/javascript"></script>
  <script src="../js/jquery-ui-1.8.21.custom.min.js" type="text/javascript"></script>
  <script src="../js/bootstrap-tooltip.js" type="text/javascript"></script>
  <script src="../js/bootstrap-popover.js" type="text/javascript"></script>

	<title>SLAPcenter - My SLAP - Final review</title>
</head>
<body id="build">
  <div class="wrapper">

    <header id="headerContainer">
      <div class="container">
        <section id="headerContent">
          <a id="logo" href="#">SLAP</a>
          <ul id="nav">
            <li><a href="#">Profile</a></li>
            <li><a href="#">My SLAP</a></li>
            <li><a href="#">FAQ</a></li>
            <li><a href="#">Logout</a></li>
          </ul>
          <div id="progress">
            <div class="phases">
              <div class="phase" data-phase="1"><span class="number">1</span>SLAPstatement</div>
              <div class="phase active" data-phase="2"><span class="number">2</span>1 Year Goal</div>
              <div class="phase" data-phase="3"><span class="number">3</span>Ideal Client</div>
              <div class="phase" data-phase="4"><span class="number">4</span>Action Plan</div>
              <div class="phase" data-phase="5"><span class="number">5</span>Commit</div>
            </div>
            <div class="pages">
              <ul data-phase="1">
                <li><i class="icon-adjust"></i><span class="page">Write Your Vision Statement</span></li>
              </ul>
              <ul data-phase="2">
                <li><i class="icon-ok"></i><span class="page">Personal Expenses</span></li>
                <li><i class="icon-ok"></i><span class="page">Business Expenses</span></li>
                <li><i class="icon-ok"></i><span class="page">Revenue Streams</span></li>
                <li><i class="icon-ok"></i><span class="page">Average Selling Price</span></li>
                <li><i class="icon-ok"></i><span class="page">Hard Costs</span></li>
                <li><i class="icon-adjust"></i><span class="page">Final Review</span></li>
              </ul>
              <ul data-phase="3">
                <li><i class="icon-ok"></i><span class="page">Identifying Your Ideal Client</span></li>
                <li><i class="icon-ok"></i><span class="page">Name Your Ideal Client</span></li>
              </ul>
              <ul data-phase="4">
                <li><i class="icon-ok"></i><span class="page">World Events</span></li>
                <li><i class="icon-ok"></i><span class="page">Ideal Client Events</span></li>
                <li><i class="icon-ok"></i><span class="page">Connection Strategies</span></li>
                <li><i class="icon-ok"></i><span class="page">Quarterly Strategies</span></li>
                <li><i class="icon-ok"></i><span class="page">Quarterly Goals</span></li>
                <li><i class="icon-ok"></i><span class="page">Action Items</span></li>
              </ul>
              <ul data-phase="5">
                <li><i class="icon-ok"></i><span class="page">Make Your Commitment</span></li>
              </ul>
            </div>
          </div>
          <div class="bottomShadow"></div>
        </section>
      </div>
    </header>
    
    <section id="contentContainer" class="container_12">
      <div class="grid_12">
        <div class="buttons help"><a id="help" class="help">I'd like some help</a></div>
        <h1>Goal Check</h1>
        <div class="instruction">
          <p>Do a final review of your revenue stream and make adjustments if needed.</p>
        </div>
      </div>
      <div class="grid_12 headings">
          <div class="grid_4 alpha item">Item</div>
          <div class="grid_2 amount">Sale Amount</div>
          <div class="grid_2 units">Units</div>
          <div class="grid_2 revenue">Revenue<a href="#" rel="popover" data-original-title="Revenue" data-content="Your revenue is calculated as the unit amount multiplied by the number of units sold"><i class="icon-question-sign"></i></a></div>
          <div class="grid_2 omega percent">Percent<a href="#" rel="popover" data-original-title="Percent" data-content="This value shows how much the revenue stream contributes to your total revenue.  [insert tip]"><i class="icon-question-sign"></i></a></div>
        </div>
      <div class="grid_12 revenue-stream">
          <div class="grid_4 alpha item"><input type="text" class="input_xlarge" value="First revenue stream" /></div>
          <div class="grid_2 amount">$<input type="text" class="input_tiny" value="100" /></div>
          <div class="grid_2 units"><input type="text" class="input_tiny" value="50" /><span> of 100</span></div>
          <div class="grid_2 revenue"><span>$ 5000</span><span class="old">&nbsp;</span></div>
          <div class="grid_2 omega percent"><span>21.7 %</span><span class="old">&nbsp;</span></div>
          <ul class="costs">
            <li>
              <i class="icon-resize-vertical"></i>
              <div class="title"><input type="text" class="input_xlarge" value="First hard cost" /></div>
              <div class="amount"><input type="text" class="input_tiny" value="20" /></div>
              <i class="icon-remove"></i>
            </li>
            <li>
              <i class="icon-resize-vertical"></i>
              <div class="title"><input type="text" class="input_xlarge" value="Second hard cost" /></div>
              <div class="amount"><input type="text" class="input_tiny" value="5" /></div>
              <i class="icon-remove"></i>
            </li>
            <li class="new-cost">
              <div class="title"><input type="text" class="input_xlarge" placeholder="Add a hard cost"/></div>
              <div class="amount"><input type="text" class="input_tiny" /></div>
            </li>
          </ul>        
          <div class="grid_4 item net">Net of First revenue stream</div>
          <div class="grid_2 amount net">$ 75</div>
        </div>
      
      <div class="grid_12 revenue-stream">
          <div class="grid_4 alpha item"><input type="text" class="input_xlarge" value="Second revenue stream" /></div>
          <div class="grid_2 amount">$<input type="text" class="input_tiny" value="70" /></div>
          <div class="grid_2 units"><input type="text" class="input_tiny" value="200" /><span> of 500</span></div>
          <div class="grid_2 revenue"><span>$ 14000</span><span class="old">&nbsp;</span></div>
          <div class="grid_2 omega percent"><span>60.9 %</span><span class="old">&nbsp;</span></div>
          <ul class="costs">
            <li>
              <i class="icon-resize-vertical"></i>
              <div class="title"><input type="text" class="input_xlarge" value="Third hard cost" /></div>
              <div class="amount"><input type="text" class="input_tiny" value="10" /></div>
              <i class="icon-remove"></i>
            </li>
            <li>
              <i class="icon-resize-vertical"></i>
              <div class="title"><input type="text" class="input_xlarge" value="Fourth hard cost" /></div>
              <div class="amount"><input type="text" class="input_tiny" value="25" /></div>
              <i class="icon-remove"></i>
            </li>
            <li class="new-cost">
              <div class="title"><input type="text" class="input_xlarge" placeholder="Add a hard cost"/></div>
              <div class="amount"><input type="text" class="input_tiny" /></div>
            </li>
          </ul>        
          <div class="grid_4 item net">Net of Second revenue stream</div>
          <div class="grid_2 amount net">$ 35</div>
        </div>

      <div class="grid_12 revenue-stream">
          <div class="grid_4 alpha item"><input type="text" class="input_xlarge" value="Third revenue stream" /></div>
          <div class="grid_2 amount">$<input type="text" class="input_tiny" value="40" /></div>
          <div class="grid_2 units"><input type="text" class="input_tiny" value="100" /><span> of 150</span></div>
          <div class="grid_2 revenue"><span>$ 4000</span><span class="old">&nbsp;</span></div>
          <div class="grid_2 omega percent"><span>17.4 %</span><span class="old">&nbsp;</span></div>
          <ul class="costs">
            <li class="new-cost">
              <div class="title"><input type="text" class="input_xlarge" placeholder="Add a hard cost"/></div>
              <div class="amount"><input type="text" class="input_tiny" /></div>
            </li>
          </ul>        
          <div class="grid_4 item net">Net of Third revenue stream</div>
          <div class="grid_2 amount net">$ 40</div>
        </div>

      <div class="grid_12 net-revenue success"><p>Your net revenue of $ 23,000 is greater than your breakeven point of $ 22,500. You are off to a great start!</p></div>
      <div class="grid_12 net-revenue failure"><p>Your net revenue of $ 22,000 is less than your breakeven point of $ 22,500. Keep working!</p></div>
      <div class="clear"></div>

      <div class="controls">
        <div class="grid_12 buttons">
          <!-- <span class="saved">Saved just now</span> -->
          <!-- <span class="saved">Last saved 1 minute ago</span> -->
          <!-- <span class="saved">Last saved June 25, 2012 at 10:00 AM</span> -->
          <a id="back" class="submit">&lt;&lt; Back</a>
          <a href="complete-2.html" id="next" class="submit">Next &gt;&gt;</a>
          <span class="saved">Saved just now</span>
        </div>
      </div>
      <div class="clear"></div>
      <div class="support grid_12">
        <p>Have a question? We are here to help! Contact us by</p>
        <ul>
          <li><div class="icon">&nbsp;</div>123.456.789</li>
          <li><div class="icon">&nbsp;</div><a href="#">Live chat</a> is online</li>
          <li><div class="icon">&nbsp;</div><a href="#">support@slapcenter.com</a></li>
        </ul>
      </div>
      <div class="clear"></div>
    </section>
  </div>
  <footer>
    <div class="container">
      <p class="left">Copyright © 2012 by SLAP. All rights reserved.</p>
      <ul class="right">
        <li><a href="#">Terms & Conditions</a></li>
        <li><a href="#">Privacy</a></li>
        <li><a class="last" href="#">Know more</a></li>
      </ul>
    </div>
  </footer>
</body>
</html>



<script>
  $(document).ready(function(){
    // mockup things
    $('.net-revenue.failure').hide();

    // setup page
    $('.revenue .old, .percent .old').hide();
    
    // setup cost lists
    $('.costs').sortable({ items: 'li:not(.new-cost)' });
    //$('.costs').disableSelection();
    var $emptyCost = $('<li class="new-cost"><div class="title"><input type="text" class="input_xlarge" placeholder="Add a hard cost"/></div><div class="amount"><input type="text" class="input_tiny" /></div></li>');

    // handle new additions to the cost lists
    $('.costs .new-cost input').live('keypress', function(e) {
      var code = (e.keyCode ? e.keyCode : e.which),
          $this = $(this);
      if(code == 13) {
        // TODO addo some validation here to make sure that the cost title and amount isn't empty, etc
      
        // make the newly created item sortable and add it to the list
        var $newCost = $this.closest('li')
          .removeClass('new-cost')
          .prepend('<i class="icon-resize-vertical"></i>')
          .append('<i class="icon-remove"></i>');
        $emptyCost.clone().insertAfter($newCost);
      }
    });
    
    $('.revenue-stream > .amount input, .revenue-stream > .units input').live('change', function() {
      console.log('changed');
      var $revenueStream = $(this).closest('.revenue-stream'),
          amount = $revenueStream.find('.amount input').val(),
          units = $revenueStream.find('.units input').val(),
          newRevenue = amount * units;
          $revenue = $revenueStream.find('.revenue span:first-child'),
          oldRevenue = $revenue.text(),
          $percent = $revenueStream.find('.percent span:first-child'),
          oldPercent = $percent.text(),
          newPercent = '50'; // TODO calculation for actual new percentage
      $revenue.text('$ ' + newRevenue);
      $revenueStream.find('.revenue .old').text(oldRevenue).show();
      $percent.text(newPercent + ' %');
      $revenueStream.find('.percent .old').text(oldPercent).show();
    });

    // handler for deleting costs
    $('.icon-remove').live('click', function() {
      $(this).closest('li').detach();
      // TODO update calculations now
    });

    // setup help
    $('.support, a[rel="popover"]').hide();
    $('a[rel="popover"]').popover();    
    $('#help').bind('click', function() {
      $('.support').fadeIn('slow');
      $('a[rel="popover"]').fadeIn('slow');
    });

    // progress bar
    $('.pages ul').hide();
  	$('.pages ul[data-phase="2"]').show();
  	$('.phase').bind('click', function() {
      var $this = $(this),
    	    phase = $this.data('phase');
      $('.phase').removeClass('active');
      $('.phase[data-phase="' + phase + '"]').addClass('active');
    	$('.pages ul').hide();
    	$('.pages ul[data-phase="' + phase + '"]').show();
  	});

  });
</script>